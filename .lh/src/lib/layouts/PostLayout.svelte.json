{
    "sourceFile": "src/lib/layouts/PostLayout.svelte",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 20,
            "patches": [
                {
                    "date": 1754738038715,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1754741517527,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,25 +1,197 @@\n-<script>\n-  export let metadata; // mdsvex passa il front-matter qui\n+<!-- src/lib/components/PostLayout.svelte -->\n+<script lang=\"ts\">\n+  export let Content: any;   // il componente mdsvex dell’articolo\n+  export let meta: { title?: string; description?: string; date?: string } = {};\n </script>\n \n-<article class=\"prose prose-neutral max-w-3xl mx-auto py-10\">\n-  <header class=\"mb-6\">\n-    <h1 class=\"!mb-1\">{metadata.title}</h1>\n-    {#if metadata.date}\n-      <p class=\"text-sm opacity-70\">\n-        {new Date(metadata.date).toLocaleDateString('it-IT', {\n-          day: '2-digit', month: '2-digit', year: 'numeric'\n-        })}\n-      </p>\n-    {/if}\n-    {#if metadata.tags?.length}\n-      <div class=\"mt-2 flex gap-2 flex-wrap\">\n-        {#each metadata.tags as t}\n-          <span class=\"text-xs px-2 py-1 bg-black/5 rounded-full\">{t}</span>\n-        {/each}\n-      </div>\n-    {/if}\n-  </header>\n+<article class=\"post\" aria-label=\"Articolo\">\n+  <!-- Se il titolo è dentro al markdown lascialo fare al contenuto -->\n+  <svelte:component this={Content} />\n+</article>\n \n-  <slot /> <!-- qui entra il contenuto del .md -->\n-</article>\n+<style>\n+  /* ——— Variabili tipografiche ——— */\n+  :global(:root){\n+    --post-max-width: 70ch;           /* misura di riga ~ Substack */\n+    --post-font-serif: Georgia, Cambria, \"Times New Roman\", Times, serif;\n+    --post-font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif;\n+    --post-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", monospace;\n+\n+    --post-text: #121212;\n+    --post-muted: #666;\n+    --post-border: #e5e5e5;\n+    --post-link: #0a66c2;\n+    --post-code-bg: #f6f8fa;\n+    --post-quote: #444;\n+    --post-quote-bar: #ddd;\n+    --post-hr: #efefef;\n+    --post-figcap: #777;\n+    --post-mark: #fff6a8;\n+  }\n+  @media (prefers-color-scheme: dark){\n+    :global(:root){\n+      --post-text: #eaeaea;\n+      --post-muted: #a1a1a1;\n+      --post-border: #2a2a2a;\n+      --post-link: #74b0ff;\n+      --post-code-bg: #0f1115;\n+      --post-quote: #d9d9d9;\n+      --post-quote-bar: #2a2a2a;\n+      --post-hr: #262626;\n+      --post-figcap: #9a9a9a;\n+      --post-mark: #534900;\n+    }\n+  }\n+\n+  /* ——— Contenitore ——— */\n+  .post{\n+    color: var(--post-text);\n+    font-family: var(--post-font-serif);\n+    font-size: clamp(1.02rem, 0.9rem + 0.5vw, 1.18rem);\n+    line-height: 1.65;\n+    max-width: var(--post-max-width);\n+    margin: 0 auto;\n+    padding: clamp(16px, 2.5vw, 28px) 16px 80px;\n+    text-rendering: optimizeLegibility;\n+    -webkit-font-smoothing: antialiased;\n+    font-kerning: normal;\n+    word-break: normal;\n+    overflow-wrap: anywhere;\n+  }\n+\n+  /* Spaziatura blocchi */\n+  .post :global(p),\n+  .post :global(ul),\n+  .post :global(ol),\n+  .post :global(pre),\n+  .post :global(blockquote),\n+  .post :global(table),\n+  .post :global(figure){\n+    margin: 0 0 1.1em 0;\n+  }\n+\n+  /* ——— Headings ——— */\n+  .post :global(h1),\n+  .post :global(h2),\n+  .post :global(h3),\n+  .post :global(h4){\n+    font-family: var(--post-font-serif);\n+    line-height: 1.25;\n+    font-weight: 700;\n+    letter-spacing: -0.01em;\n+    margin: 1.6em 0 0.6em;\n+  }\n+  .post :global(h1){ font-size: clamp(2rem, 1.5rem + 1.8vw, 3rem); }\n+  .post :global(h2){ font-size: clamp(1.6rem, 1.3rem + 1.2vw, 2.2rem); }\n+  .post :global(h3){ font-size: clamp(1.3rem, 1.1rem + 0.8vw, 1.6rem); }\n+  .post :global(h4){ font-size: 1.1rem; }\n+\n+  /* Paragrafi e testo */\n+  .post :global(p){ color: var(--post-text); }\n+  .post :global(p + p){ margin-top: 0.2em; } /* paragrafo subito dopo paragrafo: vicini, feeling Substack */\n+  .post :global(em){ font-style: italic; }\n+  .post :global(strong){ font-weight: 700; }\n+  .post :global(mark){ background: var(--post-mark); padding: 0 .15em; }\n+\n+  /* Link */\n+  .post :global(a){\n+    color: var(--post-link);\n+    text-decoration: underline;\n+    text-decoration-thickness: from-font;\n+    text-underline-offset: 2px;\n+  }\n+  .post :global(a:hover){ opacity: .9; }\n+\n+  /* Liste */\n+  .post :global(ul), .post :global(ol){ padding-left: 1.25em; }\n+  .post :global(li){ margin: .3em 0; }\n+  .post :global(ul){ list-style: disc; }\n+  .post :global(ol){ list-style: decimal; }\n+\n+  /* Citazioni */\n+  .post :global(blockquote){\n+    color: var(--post-quote);\n+    font-style: italic;\n+    padding: .1em 1.1em;\n+    border-left: 3px solid var(--post-quote-bar);\n+    margin: 1.4em 0;\n+  }\n+\n+  /* Codice */\n+  .post :global(code){\n+    font-family: var(--post-font-mono);\n+    font-size: 0.92em;\n+    background: var(--post-code-bg);\n+    padding: .15em .35em;\n+    border-radius: 4px;\n+  }\n+  .post :global(pre){\n+    background: var(--post-code-bg);\n+    padding: 1em;\n+    border-radius: 8px;\n+    overflow: auto;\n+  }\n+  .post :global(pre code){ background: transparent; padding: 0; }\n+\n+  /* Immagini / figure */\n+  .post :global(img){\n+    display: block;\n+    max-width: 100%;\n+    height: auto;\n+    margin: 1.2em auto;\n+    border-radius: 8px;\n+  }\n+  .post :global(figure){ text-align: center; }\n+  .post :global(figcaption){\n+    font-family: var(--post-font-sans);\n+    color: var(--post-figcap);\n+    font-size: .9rem;\n+    margin-top: .4em;\n+  }\n+\n+  /* Tabelle */\n+  .post :global(table){\n+    width: 100%;\n+    border-collapse: collapse;\n+    font-variant-numeric: tabular-nums;\n+  }\n+  .post :global(th),\n+  .post :global(td){\n+    border-bottom: 1px solid var(--post-border);\n+    padding: .6em .4em;\n+    text-align: left;\n+    vertical-align: top;\n+  }\n+  .post :global(thead th){\n+    font-family: var(--post-font-sans);\n+    font-size: .9rem;\n+    color: var(--post-muted);\n+    font-weight: 600;\n+  }\n+\n+  /* HR */\n+  .post :global(hr){\n+    border: 0;\n+    height: 1px;\n+    background: var(--post-hr);\n+    margin: 2em 0;\n+  }\n+\n+  /* Note a piè di pagina (mdsvex/remark) */\n+  .post :global(sup[id^=\"fnref\"] a),\n+  .post :global(a.footnote-ref){\n+    text-decoration: none;\n+    font-variant-position: super;\n+  }\n+  .post :global(section.footnotes){\n+    border-top: 1px solid var(--post-hr);\n+    margin-top: 2em;\n+    padding-top: 1em;\n+    font-size: .95em;\n+  }\n+\n+  /* Responsive: allarga un filo su desktop */\n+  @media (min-width: 1100px){\n+    :global(:root){ --post-max-width: 72ch; }\n+  }\n+</style>\n"
                },
                {
                    "date": 1754741801186,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,197 @@\n+<!-- src/lib/components/PostLayout.svelte -->\n+<script lang=\"ts\">\n+  export let Content: any;   // il componente mdsvex dell’articolo\n+  export let meta: { title?: string; description?: string; date?: string } = {};\n+</script>\n+\n+<article class=\"post\" aria-label=\"Articolo\">\n+  <!-- Se il titolo è dentro al markdown lascialo fare al contenuto -->\n+  <svelte:component this={Content} />\n+</article>\n+\n+<style>\n+  /* ——— Variabili tipografiche ——— */\n+  :global(:root){\n+    --post-max-width: 70ch;           /* misura di riga ~ Substack */\n+    --post-font-serif: Georgia, Cambria, \"Times New Roman\", Times, serif;\n+    --post-font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif;\n+    --post-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", monospace;\n+\n+    --post-text: #121212;\n+    --post-muted: #666;\n+    --post-border: #e5e5e5;\n+    --post-link: #0a66c2;\n+    --post-code-bg: #f6f8fa;\n+    --post-quote: #444;\n+    --post-quote-bar: #ddd;\n+    --post-hr: #efefef;\n+    --post-figcap: #777;\n+    --post-mark: #fff6a8;\n+  }\n+  /* @media (prefers-color-scheme: dark){\n+    :global(:root){\n+      --post-text: #eaeaea;\n+      --post-muted: #a1a1a1;\n+      --post-border: #2a2a2a;\n+      --post-link: #74b0ff;\n+      --post-code-bg: #0f1115;\n+      --post-quote: #d9d9d9;\n+      --post-quote-bar: #2a2a2a;\n+      --post-hr: #262626;\n+      --post-figcap: #9a9a9a;\n+      --post-mark: #534900;\n+    }\n+  } */\n+\n+  /* ——— Contenitore ——— */\n+  .post{\n+    color: var(--post-text);\n+    font-family: var(--post-font-serif);\n+    font-size: clamp(1.02rem, 0.9rem + 0.5vw, 1.18rem);\n+    line-height: 1.65;\n+    max-width: var(--post-max-width);\n+    margin: 0 auto;\n+    padding: clamp(16px, 2.5vw, 28px) 16px 80px;\n+    text-rendering: optimizeLegibility;\n+    -webkit-font-smoothing: antialiased;\n+    font-kerning: normal;\n+    word-break: normal;\n+    overflow-wrap: anywhere;\n+  }\n+\n+  /* Spaziatura blocchi */\n+  .post :global(p),\n+  .post :global(ul),\n+  .post :global(ol),\n+  .post :global(pre),\n+  .post :global(blockquote),\n+  .post :global(table),\n+  .post :global(figure){\n+    margin: 0 0 1.1em 0;\n+  }\n+\n+  /* ——— Headings ——— */\n+  .post :global(h1),\n+  .post :global(h2),\n+  .post :global(h3),\n+  .post :global(h4){\n+    font-family: var(--post-font-serif);\n+    line-height: 1.25;\n+    font-weight: 700;\n+    letter-spacing: -0.01em;\n+    margin: 1.6em 0 0.6em;\n+  }\n+  .post :global(h1){ font-size: clamp(2rem, 1.5rem + 1.8vw, 3rem); }\n+  .post :global(h2){ font-size: clamp(1.6rem, 1.3rem + 1.2vw, 2.2rem); }\n+  .post :global(h3){ font-size: clamp(1.3rem, 1.1rem + 0.8vw, 1.6rem); }\n+  .post :global(h4){ font-size: 1.1rem; }\n+\n+  /* Paragrafi e testo */\n+  .post :global(p){ color: var(--post-text); }\n+  .post :global(p + p){ margin-top: 0.2em; } /* paragrafo subito dopo paragrafo: vicini, feeling Substack */\n+  .post :global(em){ font-style: italic; }\n+  .post :global(strong){ font-weight: 700; }\n+  .post :global(mark){ background: var(--post-mark); padding: 0 .15em; }\n+\n+  /* Link */\n+  .post :global(a){\n+    color: var(--post-link);\n+    text-decoration: underline;\n+    text-decoration-thickness: from-font;\n+    text-underline-offset: 2px;\n+  }\n+  .post :global(a:hover){ opacity: .9; }\n+\n+  /* Liste */\n+  .post :global(ul), .post :global(ol){ padding-left: 1.25em; }\n+  .post :global(li){ margin: .3em 0; }\n+  .post :global(ul){ list-style: disc; }\n+  .post :global(ol){ list-style: decimal; }\n+\n+  /* Citazioni */\n+  .post :global(blockquote){\n+    color: var(--post-quote);\n+    font-style: italic;\n+    padding: .1em 1.1em;\n+    border-left: 3px solid var(--post-quote-bar);\n+    margin: 1.4em 0;\n+  }\n+\n+  /* Codice */\n+  .post :global(code){\n+    font-family: var(--post-font-mono);\n+    font-size: 0.92em;\n+    background: var(--post-code-bg);\n+    padding: .15em .35em;\n+    border-radius: 4px;\n+  }\n+  .post :global(pre){\n+    background: var(--post-code-bg);\n+    padding: 1em;\n+    border-radius: 8px;\n+    overflow: auto;\n+  }\n+  .post :global(pre code){ background: transparent; padding: 0; }\n+\n+  /* Immagini / figure */\n+  .post :global(img){\n+    display: block;\n+    max-width: 100%;\n+    height: auto;\n+    margin: 1.2em auto;\n+    border-radius: 8px;\n+  }\n+  .post :global(figure){ text-align: center; }\n+  .post :global(figcaption){\n+    font-family: var(--post-font-sans);\n+    color: var(--post-figcap);\n+    font-size: .9rem;\n+    margin-top: .4em;\n+  }\n+\n+  /* Tabelle */\n+  .post :global(table){\n+    width: 100%;\n+    border-collapse: collapse;\n+    font-variant-numeric: tabular-nums;\n+  }\n+  .post :global(th),\n+  .post :global(td){\n+    border-bottom: 1px solid var(--post-border);\n+    padding: .6em .4em;\n+    text-align: left;\n+    vertical-align: top;\n+  }\n+  .post :global(thead th){\n+    font-family: var(--post-font-sans);\n+    font-size: .9rem;\n+    color: var(--post-muted);\n+    font-weight: 600;\n+  }\n+\n+  /* HR */\n+  .post :global(hr){\n+    border: 0;\n+    height: 1px;\n+    background: var(--post-hr);\n+    margin: 2em 0;\n+  }\n+\n+  /* Note a piè di pagina (mdsvex/remark) */\n+  .post :global(sup[id^=\"fnref\"] a),\n+  .post :global(a.footnote-ref){\n+    text-decoration: none;\n+    font-variant-position: super;\n+  }\n+  .post :global(section.footnotes){\n+    border-top: 1px solid var(--post-hr);\n+    margin-top: 2em;\n+    padding-top: 1em;\n+    font-size: .95em;\n+  }\n+\n+  /* Responsive: allarga un filo su desktop */\n+  @media (min-width: 1100px){\n+    :global(:root){ --post-max-width: 72ch; }\n+  }\n+</style>\n"
                },
                {
                    "date": 1754741807775,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,23 +27,9 @@\n     --post-hr: #efefef;\n     --post-figcap: #777;\n     --post-mark: #fff6a8;\n   }\n-  /* @media (prefers-color-scheme: dark){\n-    :global(:root){\n-      --post-text: #eaeaea;\n-      --post-muted: #a1a1a1;\n-      --post-border: #2a2a2a;\n-      --post-link: #74b0ff;\n-      --post-code-bg: #0f1115;\n-      --post-quote: #d9d9d9;\n-      --post-quote-bar: #2a2a2a;\n-      --post-hr: #262626;\n-      --post-figcap: #9a9a9a;\n-      --post-mark: #534900;\n-    }\n-  } */\n-\n+  \n   /* ——— Contenitore ——— */\n   .post{\n     color: var(--post-text);\n     font-family: var(--post-font-serif);\n@@ -194,201 +180,4 @@\n   @media (min-width: 1100px){\n     :global(:root){ --post-max-width: 72ch; }\n   }\n </style>\n-<!-- src/lib/components/PostLayout.svelte -->\n-<script lang=\"ts\">\n-  export let Content: any;   // il componente mdsvex dell’articolo\n-  export let meta: { title?: string; description?: string; date?: string } = {};\n-</script>\n-\n-<article class=\"post\" aria-label=\"Articolo\">\n-  <!-- Se il titolo è dentro al markdown lascialo fare al contenuto -->\n-  <svelte:component this={Content} />\n-</article>\n-\n-<style>\n-  /* ——— Variabili tipografiche ——— */\n-  :global(:root){\n-    --post-max-width: 70ch;           /* misura di riga ~ Substack */\n-    --post-font-serif: Georgia, Cambria, \"Times New Roman\", Times, serif;\n-    --post-font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif;\n-    --post-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", monospace;\n-\n-    --post-text: #121212;\n-    --post-muted: #666;\n-    --post-border: #e5e5e5;\n-    --post-link: #0a66c2;\n-    --post-code-bg: #f6f8fa;\n-    --post-quote: #444;\n-    --post-quote-bar: #ddd;\n-    --post-hr: #efefef;\n-    --post-figcap: #777;\n-    --post-mark: #fff6a8;\n-  }\n-  @media (prefers-color-scheme: dark){\n-    :global(:root){\n-      --post-text: #eaeaea;\n-      --post-muted: #a1a1a1;\n-      --post-border: #2a2a2a;\n-      --post-link: #74b0ff;\n-      --post-code-bg: #0f1115;\n-      --post-quote: #d9d9d9;\n-      --post-quote-bar: #2a2a2a;\n-      --post-hr: #262626;\n-      --post-figcap: #9a9a9a;\n-      --post-mark: #534900;\n-    }\n-  }\n-\n-  /* ——— Contenitore ——— */\n-  .post{\n-    color: var(--post-text);\n-    font-family: var(--post-font-serif);\n-    font-size: clamp(1.02rem, 0.9rem + 0.5vw, 1.18rem);\n-    line-height: 1.65;\n-    max-width: var(--post-max-width);\n-    margin: 0 auto;\n-    padding: clamp(16px, 2.5vw, 28px) 16px 80px;\n-    text-rendering: optimizeLegibility;\n-    -webkit-font-smoothing: antialiased;\n-    font-kerning: normal;\n-    word-break: normal;\n-    overflow-wrap: anywhere;\n-  }\n-\n-  /* Spaziatura blocchi */\n-  .post :global(p),\n-  .post :global(ul),\n-  .post :global(ol),\n-  .post :global(pre),\n-  .post :global(blockquote),\n-  .post :global(table),\n-  .post :global(figure){\n-    margin: 0 0 1.1em 0;\n-  }\n-\n-  /* ——— Headings ——— */\n-  .post :global(h1),\n-  .post :global(h2),\n-  .post :global(h3),\n-  .post :global(h4){\n-    font-family: var(--post-font-serif);\n-    line-height: 1.25;\n-    font-weight: 700;\n-    letter-spacing: -0.01em;\n-    margin: 1.6em 0 0.6em;\n-  }\n-  .post :global(h1){ font-size: clamp(2rem, 1.5rem + 1.8vw, 3rem); }\n-  .post :global(h2){ font-size: clamp(1.6rem, 1.3rem + 1.2vw, 2.2rem); }\n-  .post :global(h3){ font-size: clamp(1.3rem, 1.1rem + 0.8vw, 1.6rem); }\n-  .post :global(h4){ font-size: 1.1rem; }\n-\n-  /* Paragrafi e testo */\n-  .post :global(p){ color: var(--post-text); }\n-  .post :global(p + p){ margin-top: 0.2em; } /* paragrafo subito dopo paragrafo: vicini, feeling Substack */\n-  .post :global(em){ font-style: italic; }\n-  .post :global(strong){ font-weight: 700; }\n-  .post :global(mark){ background: var(--post-mark); padding: 0 .15em; }\n-\n-  /* Link */\n-  .post :global(a){\n-    color: var(--post-link);\n-    text-decoration: underline;\n-    text-decoration-thickness: from-font;\n-    text-underline-offset: 2px;\n-  }\n-  .post :global(a:hover){ opacity: .9; }\n-\n-  /* Liste */\n-  .post :global(ul), .post :global(ol){ padding-left: 1.25em; }\n-  .post :global(li){ margin: .3em 0; }\n-  .post :global(ul){ list-style: disc; }\n-  .post :global(ol){ list-style: decimal; }\n-\n-  /* Citazioni */\n-  .post :global(blockquote){\n-    color: var(--post-quote);\n-    font-style: italic;\n-    padding: .1em 1.1em;\n-    border-left: 3px solid var(--post-quote-bar);\n-    margin: 1.4em 0;\n-  }\n-\n-  /* Codice */\n-  .post :global(code){\n-    font-family: var(--post-font-mono);\n-    font-size: 0.92em;\n-    background: var(--post-code-bg);\n-    padding: .15em .35em;\n-    border-radius: 4px;\n-  }\n-  .post :global(pre){\n-    background: var(--post-code-bg);\n-    padding: 1em;\n-    border-radius: 8px;\n-    overflow: auto;\n-  }\n-  .post :global(pre code){ background: transparent; padding: 0; }\n-\n-  /* Immagini / figure */\n-  .post :global(img){\n-    display: block;\n-    max-width: 100%;\n-    height: auto;\n-    margin: 1.2em auto;\n-    border-radius: 8px;\n-  }\n-  .post :global(figure){ text-align: center; }\n-  .post :global(figcaption){\n-    font-family: var(--post-font-sans);\n-    color: var(--post-figcap);\n-    font-size: .9rem;\n-    margin-top: .4em;\n-  }\n-\n-  /* Tabelle */\n-  .post :global(table){\n-    width: 100%;\n-    border-collapse: collapse;\n-    font-variant-numeric: tabular-nums;\n-  }\n-  .post :global(th),\n-  .post :global(td){\n-    border-bottom: 1px solid var(--post-border);\n-    padding: .6em .4em;\n-    text-align: left;\n-    vertical-align: top;\n-  }\n-  .post :global(thead th){\n-    font-family: var(--post-font-sans);\n-    font-size: .9rem;\n-    color: var(--post-muted);\n-    font-weight: 600;\n-  }\n-\n-  /* HR */\n-  .post :global(hr){\n-    border: 0;\n-    height: 1px;\n-    background: var(--post-hr);\n-    margin: 2em 0;\n-  }\n-\n-  /* Note a piè di pagina (mdsvex/remark) */\n-  .post :global(sup[id^=\"fnref\"] a),\n-  .post :global(a.footnote-ref){\n-    text-decoration: none;\n-    font-variant-position: super;\n-  }\n-  .post :global(section.footnotes){\n-    border-top: 1px solid var(--post-hr);\n-    margin-top: 2em;\n-    padding-top: 1em;\n-    font-size: .95em;\n-  }\n-\n-  /* Responsive: allarga un filo su desktop */\n-  @media (min-width: 1100px){\n-    :global(:root){ --post-max-width: 72ch; }\n-  }\n-</style>\n"
                },
                {
                    "date": 1754742004474,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,17 @@\n <!-- src/lib/components/PostLayout.svelte -->\n <script lang=\"ts\">\n-  export let Content: any;   // il componente mdsvex dell’articolo\n+  export let Content: any;   // componente mdsvex dell’articolo\n   export let meta: { title?: string; description?: string; date?: string } = {};\n+  // Mostra l'H1 sopra al contenuto se presente meta.title\n+  export let showTitleFromMeta: boolean = true;\n </script>\n \n <article class=\"post\" aria-label=\"Articolo\">\n+  {#if showTitleFromMeta && meta.title}\n+    <h1 class=\"post-title\">{meta.title}</h1>\n+  {/if}\n+\n   <!-- Se il titolo è dentro al markdown lascialo fare al contenuto -->\n   <svelte:component this={Content} />\n </article>\n \n@@ -65,17 +71,24 @@\n     line-height: 1.25;\n     font-weight: 700;\n     letter-spacing: -0.01em;\n     margin: 1.6em 0 0.6em;\n+    text-align: left; /* tutti gli heading di default a sinistra */\n   }\n   .post :global(h1){ font-size: clamp(2rem, 1.5rem + 1.8vw, 3rem); }\n   .post :global(h2){ font-size: clamp(1.6rem, 1.3rem + 1.2vw, 2.2rem); }\n   .post :global(h3){ font-size: clamp(1.3rem, 1.1rem + 0.8vw, 1.6rem); }\n   .post :global(h4){ font-size: 1.1rem; }\n \n+  /* Titolo pagina (da meta.title) centrato */\n+  .post h1.post-title{\n+    text-align: center;\n+    margin: 0 0 .6em 0;       /* più vicino all’inizio pagina */\n+  }\n+\n   /* Paragrafi e testo */\n   .post :global(p){ color: var(--post-text); }\n-  .post :global(p + p){ margin-top: 0.2em; } /* paragrafo subito dopo paragrafo: vicini, feeling Substack */\n+  .post :global(p + p){ margin-top: 0.2em; }\n   .post :global(em){ font-style: italic; }\n   .post :global(strong){ font-weight: 700; }\n   .post :global(mark){ background: var(--post-mark); padding: 0 .15em; }\n \n"
                },
                {
                    "date": 1754742196525,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,10 +18,12 @@\n <style>\n   /* ——— Variabili tipografiche ——— */\n   :global(:root){\n     --post-max-width: 70ch;           /* misura di riga ~ Substack */\n-    --post-font-serif: Georgia, Cambria, \"Times New Roman\", Times, serif;\n-    --post-font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif;\n+    /* --post-font-serif: Georgia, Cambria, \"Times New Roman\", Times, serif;\n+    --post-font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif; */\n+    --post-font-serif: inherit; /* farà ereditare il font-family */\n+  --post-font-sans: inherit;  /* figcaption/thead useranno il font del sito */\n     --post-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", monospace;\n \n     --post-text: #121212;\n     --post-muted: #666;\n"
                },
                {
                    "date": 1754742225514,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,12 +19,13 @@\n   /* ——— Variabili tipografiche ——— */\n   :global(:root){\n     --post-max-width: 70ch;           /* misura di riga ~ Substack */\n     /* --post-font-serif: Georgia, Cambria, \"Times New Roman\", Times, serif;\n-    --post-font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif; */\n-    --post-font-serif: inherit; /* farà ereditare il font-family */\n-  --post-font-sans: inherit;  /* figcaption/thead useranno il font del sito */\n-    --post-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", monospace;\n+    --post-font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif;\n+    --post-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", monospace; */\n+    --post-font-serif: inherit;\n+    --post-font-sans: inherit;\n+    --post-font-mono: inherit;\n \n     --post-text: #121212;\n     --post-muted: #666;\n     --post-border: #e5e5e5;\n"
                },
                {
                    "date": 1754742238917,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,12 +17,9 @@\n \n <style>\n   /* ——— Variabili tipografiche ——— */\n   :global(:root){\n-    --post-max-width: 70ch;           /* misura di riga ~ Substack */\n-    /* --post-font-serif: Georgia, Cambria, \"Times New Roman\", Times, serif;\n-    --post-font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif;\n-    --post-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", monospace; */\n+    --post-max-width: 70ch;\n     --post-font-serif: inherit;\n     --post-font-sans: inherit;\n     --post-font-mono: inherit;\n \n"
                },
                {
                    "date": 1754742266402,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,14 +10,12 @@\n   {#if showTitleFromMeta && meta.title}\n     <h1 class=\"post-title\">{meta.title}</h1>\n   {/if}\n \n-  <!-- Se il titolo è dentro al markdown lascialo fare al contenuto -->\n   <svelte:component this={Content} />\n </article>\n \n <style>\n-  /* ——— Variabili tipografiche ——— */\n   :global(:root){\n     --post-max-width: 70ch;\n     --post-font-serif: inherit;\n     --post-font-sans: inherit;\n"
                },
                {
                    "date": 1754743257118,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,19 +1,80 @@\n <!-- src/lib/components/PostLayout.svelte -->\n <script lang=\"ts\">\n+  import { onMount, onDestroy } from 'svelte';\n+  import TableOfContents from '$lib/components/TableOfContents.svelte';\n+\n   export let Content: any;   // componente mdsvex dell’articolo\n   export let meta: { title?: string; description?: string; date?: string } = {};\n-  // Mostra l'H1 sopra al contenuto se presente meta.title\n   export let showTitleFromMeta: boolean = true;\n+\n+  type H = { id: string; text: string; level: number };\n+  let headings: H[] = [];\n+  let activeId = '';\n+  let observer: IntersectionObserver | null = null;\n+\n+  const slugify = (str: string) =>\n+    str\n+      .toLowerCase()\n+      .normalize('NFD').replace(/[\\u0300-\\u036f]/g, '')\n+      .replace(/[^a-z0-9\\s-]/g, '')\n+      .trim()\n+      .replace(/\\s+/g, '-');\n+\n+  onMount(() => {\n+    const article = document.querySelector('article.post');\n+    if (!article) return;\n+\n+    // Consideriamo H2–H4 per l’indice (H1 è spesso il titolo pagina)\n+    const nodes = Array.from(article.querySelectorAll('h2, h3, h4')) as HTMLElement[];\n+\n+    headings = nodes.map((el) => {\n+      if (!el.id) {\n+        const base = slugify(el.textContent || 'sezione');\n+        let id = base;\n+        let i = 2;\n+        while (document.getElementById(id)) id = `${base}-${i++}`;\n+        el.id = id;\n+      }\n+      return { id: el.id, text: el.textContent ?? '', level: Number(el.tagName.substring(1)) };\n+    });\n+\n+    // Evidenziazione sezione attiva\n+    observer = new IntersectionObserver(\n+      (entries) => {\n+        for (const entry of entries) {\n+          if (entry.isIntersecting) {\n+            activeId = (entry.target as HTMLElement).id;\n+          }\n+        }\n+      },\n+      {\n+        // Quando il titolo entra nel 30% superiore del viewport\n+        rootMargin: '0px 0px -70% 0px',\n+        threshold: 0.1\n+      }\n+    );\n+\n+    nodes.forEach((el) => observer!.observe(el));\n+  });\n+\n+  onDestroy(() => observer?.disconnect());\n </script>\n \n-<article class=\"post\" aria-label=\"Articolo\">\n-  {#if showTitleFromMeta && meta.title}\n-    <h1 class=\"post-title\">{meta.title}</h1>\n-  {/if}\n+<div class=\"post-layout\">\n+  <!-- Sidebar sinistra con ToC -->\n+  <aside class=\"toc-wrap\" aria-label=\"Indice laterale\">\n+    <TableOfContents {headings} {activeId} />\n+  </aside>\n \n-  <svelte:component this={Content} />\n-</article>\n+  <!-- Contenuto articolo -->\n+  <article class=\"post\" aria-label=\"Articolo\">\n+    {#if showTitleFromMeta && meta.title}\n+      <h1 class=\"post-title\">{meta.title}</h1>\n+    {/if}\n+    <svelte:component this={Content} />\n+  </article>\n+</div>\n \n <style>\n   :global(:root){\n     --post-max-width: 70ch;\n@@ -30,19 +91,41 @@\n     --post-quote-bar: #ddd;\n     --post-hr: #efefef;\n     --post-figcap: #777;\n     --post-mark: #fff6a8;\n+\n+    /* larghezza sidebar indice */\n+    --toc-w: 260px;\n+    --gap: 24px;\n   }\n-  \n+\n+  /* ——— Layout a due colonne ——— */\n+  .post-layout{\n+    display: grid;\n+    grid-template-columns: var(--toc-w) minmax(0, 1fr);\n+    gap: var(--gap);\n+    align-items: start;\n+    max-width: calc(var(--post-max-width) + var(--toc-w) + var(--gap) + 48px);\n+    margin: 0 auto;\n+    padding: clamp(16px, 2.5vw, 28px) 16px 80px;\n+  }\n+\n+  .toc-wrap{\n+    display: none; /* mobile: nascosto */\n+  }\n+  @media (min-width: 1024px){\n+    .toc-wrap{ display: block; }\n+  }\n+\n   /* ——— Contenitore ——— */\n   .post{\n     color: var(--post-text);\n     font-family: var(--post-font-serif);\n     font-size: clamp(1.02rem, 0.9rem + 0.5vw, 1.18rem);\n     line-height: 1.65;\n     max-width: var(--post-max-width);\n     margin: 0 auto;\n-    padding: clamp(16px, 2.5vw, 28px) 16px 80px;\n+    /* padding rimosso perché lo gestisce .post-layout */\n     text-rendering: optimizeLegibility;\n     -webkit-font-smoothing: antialiased;\n     font-kerning: normal;\n     word-break: normal;\n@@ -69,9 +152,9 @@\n     line-height: 1.25;\n     font-weight: 700;\n     letter-spacing: -0.01em;\n     margin: 1.6em 0 0.6em;\n-    text-align: left; /* tutti gli heading di default a sinistra */\n+    text-align: left;\n   }\n   .post :global(h1){ font-size: clamp(2rem, 1.5rem + 1.8vw, 3rem); }\n   .post :global(h2){ font-size: clamp(1.6rem, 1.3rem + 1.2vw, 2.2rem); }\n   .post :global(h3){ font-size: clamp(1.3rem, 1.1rem + 0.8vw, 1.6rem); }\n@@ -79,9 +162,9 @@\n \n   /* Titolo pagina (da meta.title) centrato */\n   .post h1.post-title{\n     text-align: center;\n-    margin: 0 0 .6em 0;       /* più vicino all’inizio pagina */\n+    margin: 0 0 .6em 0;\n   }\n \n   /* Paragrafi e testo */\n   .post :global(p){ color: var(--post-text); }\n@@ -173,9 +256,9 @@\n     background: var(--post-hr);\n     margin: 2em 0;\n   }\n \n-  /* Note a piè di pagina (mdsvex/remark) */\n+  /* Footnotes */\n   .post :global(sup[id^=\"fnref\"] a),\n   .post :global(a.footnote-ref){\n     text-decoration: none;\n     font-variant-position: super;\n@@ -186,8 +269,11 @@\n     padding-top: 1em;\n     font-size: .95em;\n   }\n \n+  /* Migliora il salto su anchor (se hai una navbar fissa, aumenta il valore) */\n+  .post :global(h2[id], h3[id], h4[id]){ scroll-margin-top: 96px; }\n+\n   /* Responsive: allarga un filo su desktop */\n   @media (min-width: 1100px){\n     :global(:root){ --post-max-width: 72ch; }\n   }\n"
                },
                {
                    "date": 1754743352240,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -270,10 +270,15 @@\n     font-size: .95em;\n   }\n \n   /* Migliora il salto su anchor (se hai una navbar fissa, aumenta il valore) */\n-  .post :global(h2[id], h3[id], h4[id]){ scroll-margin-top: 96px; }\n+.post :global(h2[id]),\n+.post :global(h3[id]),\n+.post :global(h4[id]) {\n+  scroll-margin-top: 96px;\n+}\n \n+\n   /* Responsive: allarga un filo su desktop */\n   @media (min-width: 1100px){\n     :global(:root){ --post-max-width: 72ch; }\n   }\n"
                },
                {
                    "date": 1754743636580,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n       .replace(/[^a-z0-9\\s-]/g, '')\n       .trim()\n       .replace(/\\s+/g, '-');\n \n-  onMount(() => {\n+  /* onMount(() => {\n     const article = document.querySelector('article.post');\n     if (!article) return;\n \n     // Consideriamo H2–H4 per l’indice (H1 è spesso il titolo pagina)\n@@ -54,10 +54,50 @@\n       }\n     );\n \n     nodes.forEach((el) => observer!.observe(el));\n-  });\n+  }); */\n \n+    onMount(() => {\n+        const article = document.querySelector('article.post');\n+        if (!article) return;\n+\n+        // Prendi h1–h4…\n+        const nodes = Array.from(\n+            article.querySelectorAll('h1, h2, h3, h4')\n+        ) as HTMLElement[];\n+\n+        // …ma togli l'H1 del titolo pagina\n+        const tocNodes = nodes.filter((el) => !el.classList.contains('post-title'));\n+\n+        headings = tocNodes.map((el) => {\n+            if (!el.id) {\n+            const base = slugify(el.textContent || 'sezione');\n+            let id = base, i = 2;\n+            while (document.getElementById(id)) id = `${base}-${i++}`;\n+            el.id = id;\n+            }\n+            return {\n+            id: el.id,\n+            text: el.textContent ?? '',\n+            level: parseInt(el.tagName.slice(1), 10)\n+            };\n+        });\n+\n+        // Evidenziazione sezione attiva\n+        observer = new IntersectionObserver(\n+            (entries) => {\n+            for (const entry of entries) {\n+                if (entry.isIntersecting) activeId = (entry.target as HTMLElement).id;\n+            }\n+            },\n+            { rootMargin: '0px 0px -70% 0px', threshold: 0.1 }\n+        );\n+\n+        tocNodes.forEach((el) => observer!.observe(el));\n+    });\n+\n+\n   onDestroy(() => observer?.disconnect());\n </script>\n \n <div class=\"post-layout\">\n@@ -270,13 +310,13 @@\n     font-size: .95em;\n   }\n \n   /* Migliora il salto su anchor (se hai una navbar fissa, aumenta il valore) */\n-.post :global(h2[id]),\n-.post :global(h3[id]),\n-.post :global(h4[id]) {\n-  scroll-margin-top: 96px;\n-}\n+    .post :global(h2[id]),\n+    .post :global(h3[id]),\n+    .post :global(h4[id]) {\n+    scroll-margin-top: 96px;\n+    }\n \n \n   /* Responsive: allarga un filo su desktop */\n   @media (min-width: 1100px){\n"
                },
                {
                    "date": 1754743647270,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,326 @@\n+<!-- src/lib/components/PostLayout.svelte -->\n+<script lang=\"ts\">\n+  import { onMount, onDestroy } from 'svelte';\n+  import TableOfContents from '$lib/components/TableOfContents.svelte';\n+\n+  export let Content: any;   // componente mdsvex dell’articolo\n+  export let meta: { title?: string; description?: string; date?: string } = {};\n+  export let showTitleFromMeta: boolean = true;\n+\n+  type H = { id: string; text: string; level: number };\n+  let headings: H[] = [];\n+  let activeId = '';\n+  let observer: IntersectionObserver | null = null;\n+\n+  const slugify = (str: string) =>\n+    str\n+      .toLowerCase()\n+      .normalize('NFD').replace(/[\\u0300-\\u036f]/g, '')\n+      .replace(/[^a-z0-9\\s-]/g, '')\n+      .trim()\n+      .replace(/\\s+/g, '-');\n+\n+  /* onMount(() => {\n+    const article = document.querySelector('article.post');\n+    if (!article) return;\n+\n+    // Consideriamo H2–H4 per l’indice (H1 è spesso il titolo pagina)\n+    const nodes = Array.from(article.querySelectorAll('h2, h3, h4')) as HTMLElement[];\n+\n+    headings = nodes.map((el) => {\n+      if (!el.id) {\n+        const base = slugify(el.textContent || 'sezione');\n+        let id = base;\n+        let i = 2;\n+        while (document.getElementById(id)) id = `${base}-${i++}`;\n+        el.id = id;\n+      }\n+      return { id: el.id, text: el.textContent ?? '', level: Number(el.tagName.substring(1)) };\n+    });\n+\n+    // Evidenziazione sezione attiva\n+    observer = new IntersectionObserver(\n+      (entries) => {\n+        for (const entry of entries) {\n+          if (entry.isIntersecting) {\n+            activeId = (entry.target as HTMLElement).id;\n+          }\n+        }\n+      },\n+      {\n+        // Quando il titolo entra nel 30% superiore del viewport\n+        rootMargin: '0px 0px -70% 0px',\n+        threshold: 0.1\n+      }\n+    );\n+\n+    nodes.forEach((el) => observer!.observe(el));\n+  }); */\n+\n+    onMount(() => {\n+        const article = document.querySelector('article.post');\n+        if (!article) return;\n+\n+        // Prendi h1–h4…\n+        const nodes = Array.from(\n+            article.querySelectorAll('h1, h2, h3, h4')\n+        ) as HTMLElement[];\n+\n+        // …ma togli l'H1 del titolo pagina\n+        const tocNodes = nodes.filter((el) => !el.classList.contains('post-title'));\n+\n+        headings = tocNodes.map((el) => {\n+            if (!el.id) {\n+            const base = slugify(el.textContent || 'sezione');\n+            let id = base, i = 2;\n+            while (document.getElementById(id)) id = `${base}-${i++}`;\n+            el.id = id;\n+            }\n+            return {\n+            id: el.id,\n+            text: el.textContent ?? '',\n+            level: parseInt(el.tagName.slice(1), 10)\n+            };\n+        });\n+\n+        // Evidenziazione sezione attiva\n+        observer = new IntersectionObserver(\n+            (entries) => {\n+            for (const entry of entries) {\n+                if (entry.isIntersecting) activeId = (entry.target as HTMLElement).id;\n+            }\n+            },\n+            { rootMargin: '0px 0px -70% 0px', threshold: 0.1 }\n+        );\n+\n+        tocNodes.forEach((el) => observer!.observe(el));\n+    });\n+\n+\n+  onDestroy(() => observer?.disconnect());\n+</script>\n+\n+<div class=\"post-layout\">\n+  <!-- Sidebar sinistra con ToC -->\n+  <aside class=\"toc-wrap\" aria-label=\"Indice laterale\">\n+    <TableOfContents {headings} {activeId} />\n+  </aside>\n+\n+  <!-- Contenuto articolo -->\n+  <article class=\"post\" aria-label=\"Articolo\">\n+    {#if showTitleFromMeta && meta.title}\n+      <h1 class=\"post-title\">{meta.title}</h1>\n+    {/if}\n+    <svelte:component this={Content} />\n+  </article>\n+</div>\n+\n+<style>\n+  :global(:root){\n+    --post-max-width: 70ch;\n+    --post-font-serif: inherit;\n+    --post-font-sans: inherit;\n+    --post-font-mono: inherit;\n+\n+    --post-text: #121212;\n+    --post-muted: #666;\n+    --post-border: #e5e5e5;\n+    --post-link: #0a66c2;\n+    --post-code-bg: #f6f8fa;\n+    --post-quote: #444;\n+    --post-quote-bar: #ddd;\n+    --post-hr: #efefef;\n+    --post-figcap: #777;\n+    --post-mark: #fff6a8;\n+\n+    /* larghezza sidebar indice */\n+    --toc-w: 260px;\n+    --gap: 24px;\n+  }\n+\n+  /* ——— Layout a due colonne ——— */\n+  .post-layout{\n+    display: grid;\n+    grid-template-columns: var(--toc-w) minmax(0, 1fr);\n+    gap: var(--gap);\n+    align-items: start;\n+    max-width: calc(var(--post-max-width) + var(--toc-w) + var(--gap) + 48px);\n+    margin: 0 auto;\n+    padding: clamp(16px, 2.5vw, 28px) 16px 80px;\n+  }\n+\n+  .toc-wrap{\n+    display: none; /* mobile: nascosto */\n+  }\n+  @media (min-width: 1024px){\n+    .toc-wrap{ display: block; }\n+  }\n+\n+  /* ——— Contenitore ——— */\n+  .post{\n+    color: var(--post-text);\n+    font-family: var(--post-font-serif);\n+    font-size: clamp(1.02rem, 0.9rem + 0.5vw, 1.18rem);\n+    line-height: 1.65;\n+    max-width: var(--post-max-width);\n+    margin: 0 auto;\n+    /* padding rimosso perché lo gestisce .post-layout */\n+    text-rendering: optimizeLegibility;\n+    -webkit-font-smoothing: antialiased;\n+    font-kerning: normal;\n+    word-break: normal;\n+    overflow-wrap: anywhere;\n+  }\n+\n+  /* Spaziatura blocchi */\n+  .post :global(p),\n+  .post :global(ul),\n+  .post :global(ol),\n+  .post :global(pre),\n+  .post :global(blockquote),\n+  .post :global(table),\n+  .post :global(figure){\n+    margin: 0 0 1.1em 0;\n+  }\n+\n+  /* ——— Headings ——— */\n+  .post :global(h1),\n+  .post :global(h2),\n+  .post :global(h3),\n+  .post :global(h4){\n+    font-family: var(--post-font-serif);\n+    line-height: 1.25;\n+    font-weight: 700;\n+    letter-spacing: -0.01em;\n+    margin: 1.6em 0 0.6em;\n+    text-align: left;\n+  }\n+  .post :global(h1){ font-size: clamp(2rem, 1.5rem + 1.8vw, 3rem); }\n+  .post :global(h2){ font-size: clamp(1.6rem, 1.3rem + 1.2vw, 2.2rem); }\n+  .post :global(h3){ font-size: clamp(1.3rem, 1.1rem + 0.8vw, 1.6rem); }\n+  .post :global(h4){ font-size: 1.1rem; }\n+\n+  /* Titolo pagina (da meta.title) centrato */\n+  .post h1.post-title{\n+    text-align: center;\n+    margin: 0 0 .6em 0;\n+  }\n+\n+  /* Paragrafi e testo */\n+  .post :global(p){ color: var(--post-text); }\n+  .post :global(p + p){ margin-top: 0.2em; }\n+  .post :global(em){ font-style: italic; }\n+  .post :global(strong){ font-weight: 700; }\n+  .post :global(mark){ background: var(--post-mark); padding: 0 .15em; }\n+\n+  /* Link */\n+  .post :global(a){\n+    color: var(--post-link);\n+    text-decoration: underline;\n+    text-decoration-thickness: from-font;\n+    text-underline-offset: 2px;\n+  }\n+  .post :global(a:hover){ opacity: .9; }\n+\n+  /* Liste */\n+  .post :global(ul), .post :global(ol){ padding-left: 1.25em; }\n+  .post :global(li){ margin: .3em 0; }\n+  .post :global(ul){ list-style: disc; }\n+  .post :global(ol){ list-style: decimal; }\n+\n+  /* Citazioni */\n+  .post :global(blockquote){\n+    color: var(--post-quote);\n+    font-style: italic;\n+    padding: .1em 1.1em;\n+    border-left: 3px solid var(--post-quote-bar);\n+    margin: 1.4em 0;\n+  }\n+\n+  /* Codice */\n+  .post :global(code){\n+    font-family: var(--post-font-mono);\n+    font-size: 0.92em;\n+    background: var(--post-code-bg);\n+    padding: .15em .35em;\n+    border-radius: 4px;\n+  }\n+  .post :global(pre){\n+    background: var(--post-code-bg);\n+    padding: 1em;\n+    border-radius: 8px;\n+    overflow: auto;\n+  }\n+  .post :global(pre code){ background: transparent; padding: 0; }\n+\n+  /* Immagini / figure */\n+  .post :global(img){\n+    display: block;\n+    max-width: 100%;\n+    height: auto;\n+    margin: 1.2em auto;\n+    border-radius: 8px;\n+  }\n+  .post :global(figure){ text-align: center; }\n+  .post :global(figcaption){\n+    font-family: var(--post-font-sans);\n+    color: var(--post-figcap);\n+    font-size: .9rem;\n+    margin-top: .4em;\n+  }\n+\n+  /* Tabelle */\n+  .post :global(table){\n+    width: 100%;\n+    border-collapse: collapse;\n+    font-variant-numeric: tabular-nums;\n+  }\n+  .post :global(th),\n+  .post :global(td){\n+    border-bottom: 1px solid var(--post-border);\n+    padding: .6em .4em;\n+    text-align: left;\n+    vertical-align: top;\n+  }\n+  .post :global(thead th){\n+    font-family: var(--post-font-sans);\n+    font-size: .9rem;\n+    color: var(--post-muted);\n+    font-weight: 600;\n+  }\n+\n+  /* HR */\n+  .post :global(hr){\n+    border: 0;\n+    height: 1px;\n+    background: var(--post-hr);\n+    margin: 2em 0;\n+  }\n+\n+  /* Footnotes */\n+  .post :global(sup[id^=\"fnref\"] a),\n+  .post :global(a.footnote-ref){\n+    text-decoration: none;\n+    font-variant-position: super;\n+  }\n+  .post :global(section.footnotes){\n+    border-top: 1px solid var(--post-hr);\n+    margin-top: 2em;\n+    padding-top: 1em;\n+    font-size: .95em;\n+  }\n+\n+  /* Migliora il salto su anchor (se hai una navbar fissa, aumenta il valore) */\n+    /* Svelte: niente liste dentro :global() */\n+.post :global(h1[id]),\n+.post :global(h2[id]),\n+.post :global(h3[id]),\n+.post :global(h4[id]) { scroll-margin-top: 96px; }\n+\n+\n+\n+  /* Responsive: allarga un filo su desktop */\n+  @media (min-width: 1100px){\n+    :global(:root){ --post-max-width: 72ch; }\n+  }\n+</style>\n"
                },
                {
                    "date": 1754743964795,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,45 +19,9 @@\n       .replace(/[^a-z0-9\\s-]/g, '')\n       .trim()\n       .replace(/\\s+/g, '-');\n \n-  /* onMount(() => {\n-    const article = document.querySelector('article.post');\n-    if (!article) return;\n-\n-    // Consideriamo H2–H4 per l’indice (H1 è spesso il titolo pagina)\n-    const nodes = Array.from(article.querySelectorAll('h2, h3, h4')) as HTMLElement[];\n-\n-    headings = nodes.map((el) => {\n-      if (!el.id) {\n-        const base = slugify(el.textContent || 'sezione');\n-        let id = base;\n-        let i = 2;\n-        while (document.getElementById(id)) id = `${base}-${i++}`;\n-        el.id = id;\n-      }\n-      return { id: el.id, text: el.textContent ?? '', level: Number(el.tagName.substring(1)) };\n-    });\n-\n-    // Evidenziazione sezione attiva\n-    observer = new IntersectionObserver(\n-      (entries) => {\n-        for (const entry of entries) {\n-          if (entry.isIntersecting) {\n-            activeId = (entry.target as HTMLElement).id;\n-          }\n-        }\n-      },\n-      {\n-        // Quando il titolo entra nel 30% superiore del viewport\n-        rootMargin: '0px 0px -70% 0px',\n-        threshold: 0.1\n-      }\n-    );\n-\n-    nodes.forEach((el) => observer!.observe(el));\n-  }); */\n-\n+    \n     onMount(() => {\n         const article = document.querySelector('article.post');\n         if (!article) return;\n \n@@ -311,340 +275,15 @@\n   }\n \n   /* Migliora il salto su anchor (se hai una navbar fissa, aumenta il valore) */\n     /* Svelte: niente liste dentro :global() */\n-.post :global(h1[id]),\n-.post :global(h2[id]),\n-.post :global(h3[id]),\n-.post :global(h4[id]) { scroll-margin-top: 96px; }\n-\n-\n-\n-  /* Responsive: allarga un filo su desktop */\n-  @media (min-width: 1100px){\n-    :global(:root){ --post-max-width: 72ch; }\n-  }\n-</style>\n-<!-- src/lib/components/PostLayout.svelte -->\n-<script lang=\"ts\">\n-  import { onMount, onDestroy } from 'svelte';\n-  import TableOfContents from '$lib/components/TableOfContents.svelte';\n-\n-  export let Content: any;   // componente mdsvex dell’articolo\n-  export let meta: { title?: string; description?: string; date?: string } = {};\n-  export let showTitleFromMeta: boolean = true;\n-\n-  type H = { id: string; text: string; level: number };\n-  let headings: H[] = [];\n-  let activeId = '';\n-  let observer: IntersectionObserver | null = null;\n-\n-  const slugify = (str: string) =>\n-    str\n-      .toLowerCase()\n-      .normalize('NFD').replace(/[\\u0300-\\u036f]/g, '')\n-      .replace(/[^a-z0-9\\s-]/g, '')\n-      .trim()\n-      .replace(/\\s+/g, '-');\n-\n-  /* onMount(() => {\n-    const article = document.querySelector('article.post');\n-    if (!article) return;\n-\n-    // Consideriamo H2–H4 per l’indice (H1 è spesso il titolo pagina)\n-    const nodes = Array.from(article.querySelectorAll('h2, h3, h4')) as HTMLElement[];\n-\n-    headings = nodes.map((el) => {\n-      if (!el.id) {\n-        const base = slugify(el.textContent || 'sezione');\n-        let id = base;\n-        let i = 2;\n-        while (document.getElementById(id)) id = `${base}-${i++}`;\n-        el.id = id;\n-      }\n-      return { id: el.id, text: el.textContent ?? '', level: Number(el.tagName.substring(1)) };\n-    });\n-\n-    // Evidenziazione sezione attiva\n-    observer = new IntersectionObserver(\n-      (entries) => {\n-        for (const entry of entries) {\n-          if (entry.isIntersecting) {\n-            activeId = (entry.target as HTMLElement).id;\n-          }\n-        }\n-      },\n-      {\n-        // Quando il titolo entra nel 30% superiore del viewport\n-        rootMargin: '0px 0px -70% 0px',\n-        threshold: 0.1\n-      }\n-    );\n-\n-    nodes.forEach((el) => observer!.observe(el));\n-  }); */\n-\n-    onMount(() => {\n-        const article = document.querySelector('article.post');\n-        if (!article) return;\n-\n-        // Prendi h1–h4…\n-        const nodes = Array.from(\n-            article.querySelectorAll('h1, h2, h3, h4')\n-        ) as HTMLElement[];\n-\n-        // …ma togli l'H1 del titolo pagina\n-        const tocNodes = nodes.filter((el) => !el.classList.contains('post-title'));\n-\n-        headings = tocNodes.map((el) => {\n-            if (!el.id) {\n-            const base = slugify(el.textContent || 'sezione');\n-            let id = base, i = 2;\n-            while (document.getElementById(id)) id = `${base}-${i++}`;\n-            el.id = id;\n-            }\n-            return {\n-            id: el.id,\n-            text: el.textContent ?? '',\n-            level: parseInt(el.tagName.slice(1), 10)\n-            };\n-        });\n-\n-        // Evidenziazione sezione attiva\n-        observer = new IntersectionObserver(\n-            (entries) => {\n-            for (const entry of entries) {\n-                if (entry.isIntersecting) activeId = (entry.target as HTMLElement).id;\n-            }\n-            },\n-            { rootMargin: '0px 0px -70% 0px', threshold: 0.1 }\n-        );\n-\n-        tocNodes.forEach((el) => observer!.observe(el));\n-    });\n-\n-\n-  onDestroy(() => observer?.disconnect());\n-</script>\n-\n-<div class=\"post-layout\">\n-  <!-- Sidebar sinistra con ToC -->\n-  <aside class=\"toc-wrap\" aria-label=\"Indice laterale\">\n-    <TableOfContents {headings} {activeId} />\n-  </aside>\n-\n-  <!-- Contenuto articolo -->\n-  <article class=\"post\" aria-label=\"Articolo\">\n-    {#if showTitleFromMeta && meta.title}\n-      <h1 class=\"post-title\">{meta.title}</h1>\n-    {/if}\n-    <svelte:component this={Content} />\n-  </article>\n-</div>\n-\n-<style>\n-  :global(:root){\n-    --post-max-width: 70ch;\n-    --post-font-serif: inherit;\n-    --post-font-sans: inherit;\n-    --post-font-mono: inherit;\n-\n-    --post-text: #121212;\n-    --post-muted: #666;\n-    --post-border: #e5e5e5;\n-    --post-link: #0a66c2;\n-    --post-code-bg: #f6f8fa;\n-    --post-quote: #444;\n-    --post-quote-bar: #ddd;\n-    --post-hr: #efefef;\n-    --post-figcap: #777;\n-    --post-mark: #fff6a8;\n-\n-    /* larghezza sidebar indice */\n-    --toc-w: 260px;\n-    --gap: 24px;\n-  }\n-\n-  /* ——— Layout a due colonne ——— */\n-  .post-layout{\n-    display: grid;\n-    grid-template-columns: var(--toc-w) minmax(0, 1fr);\n-    gap: var(--gap);\n-    align-items: start;\n-    max-width: calc(var(--post-max-width) + var(--toc-w) + var(--gap) + 48px);\n-    margin: 0 auto;\n-    padding: clamp(16px, 2.5vw, 28px) 16px 80px;\n-  }\n-\n-  .toc-wrap{\n-    display: none; /* mobile: nascosto */\n-  }\n-  @media (min-width: 1024px){\n-    .toc-wrap{ display: block; }\n-  }\n-\n-  /* ——— Contenitore ——— */\n-  .post{\n-    color: var(--post-text);\n-    font-family: var(--post-font-serif);\n-    font-size: clamp(1.02rem, 0.9rem + 0.5vw, 1.18rem);\n-    line-height: 1.65;\n-    max-width: var(--post-max-width);\n-    margin: 0 auto;\n-    /* padding rimosso perché lo gestisce .post-layout */\n-    text-rendering: optimizeLegibility;\n-    -webkit-font-smoothing: antialiased;\n-    font-kerning: normal;\n-    word-break: normal;\n-    overflow-wrap: anywhere;\n-  }\n-\n-  /* Spaziatura blocchi */\n-  .post :global(p),\n-  .post :global(ul),\n-  .post :global(ol),\n-  .post :global(pre),\n-  .post :global(blockquote),\n-  .post :global(table),\n-  .post :global(figure){\n-    margin: 0 0 1.1em 0;\n-  }\n-\n-  /* ——— Headings ——— */\n-  .post :global(h1),\n-  .post :global(h2),\n-  .post :global(h3),\n-  .post :global(h4){\n-    font-family: var(--post-font-serif);\n-    line-height: 1.25;\n-    font-weight: 700;\n-    letter-spacing: -0.01em;\n-    margin: 1.6em 0 0.6em;\n-    text-align: left;\n-  }\n-  .post :global(h1){ font-size: clamp(2rem, 1.5rem + 1.8vw, 3rem); }\n-  .post :global(h2){ font-size: clamp(1.6rem, 1.3rem + 1.2vw, 2.2rem); }\n-  .post :global(h3){ font-size: clamp(1.3rem, 1.1rem + 0.8vw, 1.6rem); }\n-  .post :global(h4){ font-size: 1.1rem; }\n-\n-  /* Titolo pagina (da meta.title) centrato */\n-  .post h1.post-title{\n-    text-align: center;\n-    margin: 0 0 .6em 0;\n-  }\n-\n-  /* Paragrafi e testo */\n-  .post :global(p){ color: var(--post-text); }\n-  .post :global(p + p){ margin-top: 0.2em; }\n-  .post :global(em){ font-style: italic; }\n-  .post :global(strong){ font-weight: 700; }\n-  .post :global(mark){ background: var(--post-mark); padding: 0 .15em; }\n-\n-  /* Link */\n-  .post :global(a){\n-    color: var(--post-link);\n-    text-decoration: underline;\n-    text-decoration-thickness: from-font;\n-    text-underline-offset: 2px;\n-  }\n-  .post :global(a:hover){ opacity: .9; }\n-\n-  /* Liste */\n-  .post :global(ul), .post :global(ol){ padding-left: 1.25em; }\n-  .post :global(li){ margin: .3em 0; }\n-  .post :global(ul){ list-style: disc; }\n-  .post :global(ol){ list-style: decimal; }\n-\n-  /* Citazioni */\n-  .post :global(blockquote){\n-    color: var(--post-quote);\n-    font-style: italic;\n-    padding: .1em 1.1em;\n-    border-left: 3px solid var(--post-quote-bar);\n-    margin: 1.4em 0;\n-  }\n-\n-  /* Codice */\n-  .post :global(code){\n-    font-family: var(--post-font-mono);\n-    font-size: 0.92em;\n-    background: var(--post-code-bg);\n-    padding: .15em .35em;\n-    border-radius: 4px;\n-  }\n-  .post :global(pre){\n-    background: var(--post-code-bg);\n-    padding: 1em;\n-    border-radius: 8px;\n-    overflow: auto;\n-  }\n-  .post :global(pre code){ background: transparent; padding: 0; }\n-\n-  /* Immagini / figure */\n-  .post :global(img){\n-    display: block;\n-    max-width: 100%;\n-    height: auto;\n-    margin: 1.2em auto;\n-    border-radius: 8px;\n-  }\n-  .post :global(figure){ text-align: center; }\n-  .post :global(figcaption){\n-    font-family: var(--post-font-sans);\n-    color: var(--post-figcap);\n-    font-size: .9rem;\n-    margin-top: .4em;\n-  }\n-\n-  /* Tabelle */\n-  .post :global(table){\n-    width: 100%;\n-    border-collapse: collapse;\n-    font-variant-numeric: tabular-nums;\n-  }\n-  .post :global(th),\n-  .post :global(td){\n-    border-bottom: 1px solid var(--post-border);\n-    padding: .6em .4em;\n-    text-align: left;\n-    vertical-align: top;\n-  }\n-  .post :global(thead th){\n-    font-family: var(--post-font-sans);\n-    font-size: .9rem;\n-    color: var(--post-muted);\n-    font-weight: 600;\n-  }\n-\n-  /* HR */\n-  .post :global(hr){\n-    border: 0;\n-    height: 1px;\n-    background: var(--post-hr);\n-    margin: 2em 0;\n-  }\n-\n-  /* Footnotes */\n-  .post :global(sup[id^=\"fnref\"] a),\n-  .post :global(a.footnote-ref){\n-    text-decoration: none;\n-    font-variant-position: super;\n-  }\n-  .post :global(section.footnotes){\n-    border-top: 1px solid var(--post-hr);\n-    margin-top: 2em;\n-    padding-top: 1em;\n-    font-size: .95em;\n-  }\n-\n-  /* Migliora il salto su anchor (se hai una navbar fissa, aumenta il valore) */\n+    .post :global(h1[id]),\n     .post :global(h2[id]),\n     .post :global(h3[id]),\n-    .post :global(h4[id]) {\n-    scroll-margin-top: 96px;\n-    }\n+    .post :global(h4[id]) { scroll-margin-top: 96px; }\n \n \n+\n   /* Responsive: allarga un filo su desktop */\n   @media (min-width: 1100px){\n     :global(:root){ --post-max-width: 72ch; }\n   }\n"
                },
                {
                    "date": 1754743990686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,21 +63,34 @@\n \n   onDestroy(() => observer?.disconnect());\n </script>\n \n-<div class=\"post-layout\">\n-  <!-- Sidebar sinistra con ToC -->\n+<!-- <div class=\"post-layout\">\n   <aside class=\"toc-wrap\" aria-label=\"Indice laterale\">\n     <TableOfContents {headings} {activeId} />\n   </aside>\n \n-  <!-- Contenuto articolo -->\n   <article class=\"post\" aria-label=\"Articolo\">\n     {#if showTitleFromMeta && meta.title}\n       <h1 class=\"post-title\">{meta.title}</h1>\n     {/if}\n     <svelte:component this={Content} />\n   </article>\n+</div> -->\n+\n+<div class={`post-layout ${hasTOC ? '' : 'no-toc'}`}>\n+  {#if hasTOC}\n+    <aside class=\"toc-wrap\" aria-label=\"Indice laterale\">\n+      <TableOfContents {headings} {activeId} />\n+    </aside>\n+  {/if}\n+\n+  <article class=\"post\" aria-label=\"Articolo\">\n+    {#if showTitleFromMeta && meta.title}\n+      <h1 class=\"post-title\">{meta.title}</h1>\n+    {/if}\n+    <svelte:component this={Content} />\n+  </article>\n </div>\n \n <style>\n   :global(:root){\n"
                },
                {
                    "date": 1754744003161,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,8 +11,10 @@\n   let headings: H[] = [];\n   let activeId = '';\n   let observer: IntersectionObserver | null = null;\n \n+  $: hasTOC = headings.length > 0;\n+\n   const slugify = (str: string) =>\n     str\n       .toLowerCase()\n       .normalize('NFD').replace(/[\\u0300-\\u036f]/g, '')\n"
                },
                {
                    "date": 1754744028396,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n       .trim()\n       .replace(/\\s+/g, '-');\n \n     \n-    onMount(() => {\n+    /* onMount(() => {\n         const article = document.querySelector('article.post');\n         if (!article) return;\n \n         // Prendi h1–h4…\n@@ -59,11 +59,44 @@\n             { rootMargin: '0px 0px -70% 0px', threshold: 0.1 }\n         );\n \n         tocNodes.forEach((el) => observer!.observe(el));\n-    });\n+    }); */\n \n+    onMount(() => {\n+  const article = document.querySelector('article.post');\n+  if (!article) return;\n \n+  const nodes = Array.from(article.querySelectorAll('h1, h2, h3, h4')) as HTMLElement[];\n+  const tocNodes = nodes.filter((el) => !el.classList.contains('post-title'));\n+\n+  headings = tocNodes.map((el) => {\n+    if (!el.id) {\n+      const base = slugify(el.textContent || 'sezione');\n+      let id = base, i = 2;\n+      while (document.getElementById(id)) id = `${base}-${i++}`;\n+      el.id = id;\n+    }\n+    return { id: el.id, text: el.textContent ?? '', level: parseInt(el.tagName.slice(1), 10) };\n+  });\n+\n+  // Se non ci sono titoli, esci: niente observer, niente ToC\n+  if (headings.length === 0) return;\n+\n+  observer = new IntersectionObserver(\n+    (entries) => {\n+      for (const entry of entries) {\n+        if (entry.isIntersecting) activeId = (entry.target as HTMLElement).id;\n+      }\n+    },\n+    { rootMargin: '0px 0px -70% 0px', threshold: 0.1 }\n+  );\n+\n+  tocNodes.forEach((el) => observer!.observe(el));\n+});\n+\n+\n+\n   onDestroy(() => observer?.disconnect());\n </script>\n \n <!-- <div class=\"post-layout\">\n"
                },
                {
                    "date": 1754744036095,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -62,38 +62,38 @@\n         tocNodes.forEach((el) => observer!.observe(el));\n     }); */\n \n     onMount(() => {\n-  const article = document.querySelector('article.post');\n-  if (!article) return;\n+        const article = document.querySelector('article.post');\n+        if (!article) return;\n \n-  const nodes = Array.from(article.querySelectorAll('h1, h2, h3, h4')) as HTMLElement[];\n-  const tocNodes = nodes.filter((el) => !el.classList.contains('post-title'));\n+        const nodes = Array.from(article.querySelectorAll('h1, h2, h3, h4')) as HTMLElement[];\n+        const tocNodes = nodes.filter((el) => !el.classList.contains('post-title'));\n \n-  headings = tocNodes.map((el) => {\n-    if (!el.id) {\n-      const base = slugify(el.textContent || 'sezione');\n-      let id = base, i = 2;\n-      while (document.getElementById(id)) id = `${base}-${i++}`;\n-      el.id = id;\n-    }\n-    return { id: el.id, text: el.textContent ?? '', level: parseInt(el.tagName.slice(1), 10) };\n-  });\n+        headings = tocNodes.map((el) => {\n+            if (!el.id) {\n+            const base = slugify(el.textContent || 'sezione');\n+            let id = base, i = 2;\n+            while (document.getElementById(id)) id = `${base}-${i++}`;\n+            el.id = id;\n+            }\n+            return { id: el.id, text: el.textContent ?? '', level: parseInt(el.tagName.slice(1), 10) };\n+        });\n \n-  // Se non ci sono titoli, esci: niente observer, niente ToC\n-  if (headings.length === 0) return;\n+        // Se non ci sono titoli, esci: niente observer, niente ToC\n+        if (headings.length === 0) return;\n \n-  observer = new IntersectionObserver(\n-    (entries) => {\n-      for (const entry of entries) {\n-        if (entry.isIntersecting) activeId = (entry.target as HTMLElement).id;\n-      }\n-    },\n-    { rootMargin: '0px 0px -70% 0px', threshold: 0.1 }\n-  );\n+        observer = new IntersectionObserver(\n+            (entries) => {\n+            for (const entry of entries) {\n+                if (entry.isIntersecting) activeId = (entry.target as HTMLElement).id;\n+            }\n+            },\n+            { rootMargin: '0px 0px -70% 0px', threshold: 0.1 }\n+        );\n \n-  tocNodes.forEach((el) => observer!.observe(el));\n-});\n+        tocNodes.forEach((el) => observer!.observe(el));\n+    });\n \n \n \n   onDestroy(() => observer?.disconnect());\n"
                },
                {
                    "date": 1754744050198,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -328,10 +328,17 @@\n     .post :global(h2[id]),\n     .post :global(h3[id]),\n     .post :global(h4[id]) { scroll-margin-top: 96px; }\n \n+    .post-layout.no-toc{\n+  grid-template-columns: minmax(0, 1fr);\n+  /* stringi il max-width per non lasciare spazio vuoto della sidebar */\n+  max-width: calc(var(--post-max-width) + 48px);\n+}\n \n \n+\n+\n   /* Responsive: allarga un filo su desktop */\n   @media (min-width: 1100px){\n     :global(:root){ --post-max-width: 72ch; }\n   }\n"
                },
                {
                    "date": 1754744056095,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -329,11 +329,11 @@\n     .post :global(h3[id]),\n     .post :global(h4[id]) { scroll-margin-top: 96px; }\n \n     .post-layout.no-toc{\n-    grid-template-columns: minmax(0, 1fr);\n-    /* stringi il max-width per non lasciare spazio vuoto della sidebar */\n-    max-width: calc(var(--post-max-width) + 48px);\n+        grid-template-columns: minmax(0, 1fr);\n+        /* stringi il max-width per non lasciare spazio vuoto della sidebar */\n+        max-width: calc(var(--post-max-width) + 48px);\n     }\n \n \n \n"
                },
                {
                    "date": 1754744075463,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,30 +1,30 @@\n <!-- src/lib/components/PostLayout.svelte -->\n <script lang=\"ts\">\n-  import { onMount, onDestroy } from 'svelte';\n-  import TableOfContents from '$lib/components/TableOfContents.svelte';\n+\timport { onMount, onDestroy } from 'svelte';\n+\timport TableOfContents from '$lib/components/TableOfContents.svelte';\n \n-  export let Content: any;   // componente mdsvex dell’articolo\n-  export let meta: { title?: string; description?: string; date?: string } = {};\n-  export let showTitleFromMeta: boolean = true;\n+\texport let Content: any; // componente mdsvex dell’articolo\n+\texport let meta: { title?: string; description?: string; date?: string } = {};\n+\texport let showTitleFromMeta: boolean = true;\n \n-  type H = { id: string; text: string; level: number };\n-  let headings: H[] = [];\n-  let activeId = '';\n-  let observer: IntersectionObserver | null = null;\n+\ttype H = { id: string; text: string; level: number };\n+\tlet headings: H[] = [];\n+\tlet activeId = '';\n+\tlet observer: IntersectionObserver | null = null;\n \n-  $: hasTOC = headings.length > 0;\n+\t$: hasTOC = headings.length > 0;\n \n-  const slugify = (str: string) =>\n-    str\n-      .toLowerCase()\n-      .normalize('NFD').replace(/[\\u0300-\\u036f]/g, '')\n-      .replace(/[^a-z0-9\\s-]/g, '')\n-      .trim()\n-      .replace(/\\s+/g, '-');\n+\tconst slugify = (str: string) =>\n+\t\tstr\n+\t\t\t.toLowerCase()\n+\t\t\t.normalize('NFD')\n+\t\t\t.replace(/[\\u0300-\\u036f]/g, '')\n+\t\t\t.replace(/[^a-z0-9\\s-]/g, '')\n+\t\t\t.trim()\n+\t\t\t.replace(/\\s+/g, '-');\n \n-    \n-    /* onMount(() => {\n+\t/* onMount(() => {\n         const article = document.querySelector('article.post');\n         if (!article) return;\n \n         // Prendi h1–h4…\n@@ -61,43 +61,42 @@\n \n         tocNodes.forEach((el) => observer!.observe(el));\n     }); */\n \n-    onMount(() => {\n-        const article = document.querySelector('article.post');\n-        if (!article) return;\n+\tonMount(() => {\n+\t\tconst article = document.querySelector('article.post');\n+\t\tif (!article) return;\n \n-        const nodes = Array.from(article.querySelectorAll('h1, h2, h3, h4')) as HTMLElement[];\n-        const tocNodes = nodes.filter((el) => !el.classList.contains('post-title'));\n+\t\tconst nodes = Array.from(article.querySelectorAll('h1, h2, h3, h4')) as HTMLElement[];\n+\t\tconst tocNodes = nodes.filter((el) => !el.classList.contains('post-title'));\n \n-        headings = tocNodes.map((el) => {\n-            if (!el.id) {\n-            const base = slugify(el.textContent || 'sezione');\n-            let id = base, i = 2;\n-            while (document.getElementById(id)) id = `${base}-${i++}`;\n-            el.id = id;\n-            }\n-            return { id: el.id, text: el.textContent ?? '', level: parseInt(el.tagName.slice(1), 10) };\n-        });\n+\t\theadings = tocNodes.map((el) => {\n+\t\t\tif (!el.id) {\n+\t\t\t\tconst base = slugify(el.textContent || 'sezione');\n+\t\t\t\tlet id = base,\n+\t\t\t\t\ti = 2;\n+\t\t\t\twhile (document.getElementById(id)) id = `${base}-${i++}`;\n+\t\t\t\tel.id = id;\n+\t\t\t}\n+\t\t\treturn { id: el.id, text: el.textContent ?? '', level: parseInt(el.tagName.slice(1), 10) };\n+\t\t});\n \n-        // Se non ci sono titoli, esci: niente observer, niente ToC\n-        if (headings.length === 0) return;\n+\t\t// Se non ci sono titoli, esci: niente observer, niente ToC\n+\t\tif (headings.length === 0) return;\n \n-        observer = new IntersectionObserver(\n-            (entries) => {\n-            for (const entry of entries) {\n-                if (entry.isIntersecting) activeId = (entry.target as HTMLElement).id;\n-            }\n-            },\n-            { rootMargin: '0px 0px -70% 0px', threshold: 0.1 }\n-        );\n+\t\tobserver = new IntersectionObserver(\n+\t\t\t(entries) => {\n+\t\t\t\tfor (const entry of entries) {\n+\t\t\t\t\tif (entry.isIntersecting) activeId = (entry.target as HTMLElement).id;\n+\t\t\t\t}\n+\t\t\t},\n+\t\t\t{ rootMargin: '0px 0px -70% 0px', threshold: 0.1 }\n+\t\t);\n \n-        tocNodes.forEach((el) => observer!.observe(el));\n-    });\n+\t\ttocNodes.forEach((el) => observer!.observe(el));\n+\t});\n \n-\n-\n-  onDestroy(() => observer?.disconnect());\n+\tonDestroy(() => observer?.disconnect());\n </script>\n \n <!-- <div class=\"post-layout\">\n   <aside class=\"toc-wrap\" aria-label=\"Indice laterale\">\n@@ -112,234 +111,271 @@\n   </article>\n </div> -->\n \n <div class={`post-layout ${hasTOC ? '' : 'no-toc'}`}>\n-  {#if hasTOC}\n-    <aside class=\"toc-wrap\" aria-label=\"Indice laterale\">\n-      <TableOfContents {headings} {activeId} />\n-    </aside>\n-  {/if}\n+\t{#if hasTOC}\n+\t\t<aside class=\"toc-wrap\" aria-label=\"Indice laterale\">\n+\t\t\t<TableOfContents {headings} {activeId} />\n+\t\t</aside>\n+\t{/if}\n \n-  <article class=\"post\" aria-label=\"Articolo\">\n-    {#if showTitleFromMeta && meta.title}\n-      <h1 class=\"post-title\">{meta.title}</h1>\n-    {/if}\n-    <svelte:component this={Content} />\n-  </article>\n+\t<article class=\"post\" aria-label=\"Articolo\">\n+\t\t{#if showTitleFromMeta && meta.title}\n+\t\t\t<h1 class=\"post-title\">{meta.title}</h1>\n+\t\t{/if}\n+\t\t<svelte:component this={Content} />\n+\t</article>\n </div>\n \n <style>\n-  :global(:root){\n-    --post-max-width: 70ch;\n-    --post-font-serif: inherit;\n-    --post-font-sans: inherit;\n-    --post-font-mono: inherit;\n+\t:global(:root) {\n+\t\t--post-max-width: 70ch;\n+\t\t--post-font-serif: inherit;\n+\t\t--post-font-sans: inherit;\n+\t\t--post-font-mono: inherit;\n \n-    --post-text: #121212;\n-    --post-muted: #666;\n-    --post-border: #e5e5e5;\n-    --post-link: #0a66c2;\n-    --post-code-bg: #f6f8fa;\n-    --post-quote: #444;\n-    --post-quote-bar: #ddd;\n-    --post-hr: #efefef;\n-    --post-figcap: #777;\n-    --post-mark: #fff6a8;\n+\t\t--post-text: #121212;\n+\t\t--post-muted: #666;\n+\t\t--post-border: #e5e5e5;\n+\t\t--post-link: #0a66c2;\n+\t\t--post-code-bg: #f6f8fa;\n+\t\t--post-quote: #444;\n+\t\t--post-quote-bar: #ddd;\n+\t\t--post-hr: #efefef;\n+\t\t--post-figcap: #777;\n+\t\t--post-mark: #fff6a8;\n \n-    /* larghezza sidebar indice */\n-    --toc-w: 260px;\n-    --gap: 24px;\n-  }\n+\t\t/* larghezza sidebar indice */\n+\t\t--toc-w: 260px;\n+\t\t--gap: 24px;\n+\t}\n \n-  /* ——— Layout a due colonne ——— */\n-  .post-layout{\n-    display: grid;\n-    grid-template-columns: var(--toc-w) minmax(0, 1fr);\n-    gap: var(--gap);\n-    align-items: start;\n-    max-width: calc(var(--post-max-width) + var(--toc-w) + var(--gap) + 48px);\n-    margin: 0 auto;\n-    padding: clamp(16px, 2.5vw, 28px) 16px 80px;\n-  }\n+\t/* ——— Layout a due colonne ——— */\n+\t.post-layout {\n+\t\tdisplay: grid;\n+\t\tgrid-template-columns: var(--toc-w) minmax(0, 1fr);\n+\t\tgap: var(--gap);\n+\t\talign-items: start;\n+\t\tmax-width: calc(var(--post-max-width) + var(--toc-w) + var(--gap) + 48px);\n+\t\tmargin: 0 auto;\n+\t\tpadding: clamp(16px, 2.5vw, 28px) 16px 80px;\n+\t}\n \n-  .toc-wrap{\n-    display: none; /* mobile: nascosto */\n-  }\n-  @media (min-width: 1024px){\n-    .toc-wrap{ display: block; }\n-  }\n+\t.toc-wrap {\n+\t\tdisplay: none; /* mobile: nascosto */\n+\t}\n+\t@media (min-width: 1024px) {\n+\t\t.toc-wrap {\n+\t\t\tdisplay: block;\n+\t\t}\n+\t}\n \n-  /* ——— Contenitore ——— */\n-  .post{\n-    color: var(--post-text);\n-    font-family: var(--post-font-serif);\n-    font-size: clamp(1.02rem, 0.9rem + 0.5vw, 1.18rem);\n-    line-height: 1.65;\n-    max-width: var(--post-max-width);\n-    margin: 0 auto;\n-    /* padding rimosso perché lo gestisce .post-layout */\n-    text-rendering: optimizeLegibility;\n-    -webkit-font-smoothing: antialiased;\n-    font-kerning: normal;\n-    word-break: normal;\n-    overflow-wrap: anywhere;\n-  }\n+\t/* ——— Contenitore ——— */\n+\t.post {\n+\t\tcolor: var(--post-text);\n+\t\tfont-family: var(--post-font-serif);\n+\t\tfont-size: clamp(1.02rem, 0.9rem + 0.5vw, 1.18rem);\n+\t\tline-height: 1.65;\n+\t\tmax-width: var(--post-max-width);\n+\t\tmargin: 0 auto;\n+\t\t/* padding rimosso perché lo gestisce .post-layout */\n+\t\ttext-rendering: optimizeLegibility;\n+\t\t-webkit-font-smoothing: antialiased;\n+\t\tfont-kerning: normal;\n+\t\tword-break: normal;\n+\t\toverflow-wrap: anywhere;\n+\t}\n \n-  /* Spaziatura blocchi */\n-  .post :global(p),\n-  .post :global(ul),\n-  .post :global(ol),\n-  .post :global(pre),\n-  .post :global(blockquote),\n-  .post :global(table),\n-  .post :global(figure){\n-    margin: 0 0 1.1em 0;\n-  }\n+\t/* Spaziatura blocchi */\n+\t.post :global(p),\n+\t.post :global(ul),\n+\t.post :global(ol),\n+\t.post :global(pre),\n+\t.post :global(blockquote),\n+\t.post :global(table),\n+\t.post :global(figure) {\n+\t\tmargin: 0 0 1.1em 0;\n+\t}\n \n-  /* ——— Headings ——— */\n-  .post :global(h1),\n-  .post :global(h2),\n-  .post :global(h3),\n-  .post :global(h4){\n-    font-family: var(--post-font-serif);\n-    line-height: 1.25;\n-    font-weight: 700;\n-    letter-spacing: -0.01em;\n-    margin: 1.6em 0 0.6em;\n-    text-align: left;\n-  }\n-  .post :global(h1){ font-size: clamp(2rem, 1.5rem + 1.8vw, 3rem); }\n-  .post :global(h2){ font-size: clamp(1.6rem, 1.3rem + 1.2vw, 2.2rem); }\n-  .post :global(h3){ font-size: clamp(1.3rem, 1.1rem + 0.8vw, 1.6rem); }\n-  .post :global(h4){ font-size: 1.1rem; }\n+\t/* ——— Headings ——— */\n+\t.post :global(h1),\n+\t.post :global(h2),\n+\t.post :global(h3),\n+\t.post :global(h4) {\n+\t\tfont-family: var(--post-font-serif);\n+\t\tline-height: 1.25;\n+\t\tfont-weight: 700;\n+\t\tletter-spacing: -0.01em;\n+\t\tmargin: 1.6em 0 0.6em;\n+\t\ttext-align: left;\n+\t}\n+\t.post :global(h1) {\n+\t\tfont-size: clamp(2rem, 1.5rem + 1.8vw, 3rem);\n+\t}\n+\t.post :global(h2) {\n+\t\tfont-size: clamp(1.6rem, 1.3rem + 1.2vw, 2.2rem);\n+\t}\n+\t.post :global(h3) {\n+\t\tfont-size: clamp(1.3rem, 1.1rem + 0.8vw, 1.6rem);\n+\t}\n+\t.post :global(h4) {\n+\t\tfont-size: 1.1rem;\n+\t}\n \n-  /* Titolo pagina (da meta.title) centrato */\n-  .post h1.post-title{\n-    text-align: center;\n-    margin: 0 0 .6em 0;\n-  }\n+\t/* Titolo pagina (da meta.title) centrato */\n+\t.post h1.post-title {\n+\t\ttext-align: center;\n+\t\tmargin: 0 0 0.6em 0;\n+\t}\n \n-  /* Paragrafi e testo */\n-  .post :global(p){ color: var(--post-text); }\n-  .post :global(p + p){ margin-top: 0.2em; }\n-  .post :global(em){ font-style: italic; }\n-  .post :global(strong){ font-weight: 700; }\n-  .post :global(mark){ background: var(--post-mark); padding: 0 .15em; }\n+\t/* Paragrafi e testo */\n+\t.post :global(p) {\n+\t\tcolor: var(--post-text);\n+\t}\n+\t.post :global(p + p) {\n+\t\tmargin-top: 0.2em;\n+\t}\n+\t.post :global(em) {\n+\t\tfont-style: italic;\n+\t}\n+\t.post :global(strong) {\n+\t\tfont-weight: 700;\n+\t}\n+\t.post :global(mark) {\n+\t\tbackground: var(--post-mark);\n+\t\tpadding: 0 0.15em;\n+\t}\n \n-  /* Link */\n-  .post :global(a){\n-    color: var(--post-link);\n-    text-decoration: underline;\n-    text-decoration-thickness: from-font;\n-    text-underline-offset: 2px;\n-  }\n-  .post :global(a:hover){ opacity: .9; }\n+\t/* Link */\n+\t.post :global(a) {\n+\t\tcolor: var(--post-link);\n+\t\ttext-decoration: underline;\n+\t\ttext-decoration-thickness: from-font;\n+\t\ttext-underline-offset: 2px;\n+\t}\n+\t.post :global(a:hover) {\n+\t\topacity: 0.9;\n+\t}\n \n-  /* Liste */\n-  .post :global(ul), .post :global(ol){ padding-left: 1.25em; }\n-  .post :global(li){ margin: .3em 0; }\n-  .post :global(ul){ list-style: disc; }\n-  .post :global(ol){ list-style: decimal; }\n+\t/* Liste */\n+\t.post :global(ul),\n+\t.post :global(ol) {\n+\t\tpadding-left: 1.25em;\n+\t}\n+\t.post :global(li) {\n+\t\tmargin: 0.3em 0;\n+\t}\n+\t.post :global(ul) {\n+\t\tlist-style: disc;\n+\t}\n+\t.post :global(ol) {\n+\t\tlist-style: decimal;\n+\t}\n \n-  /* Citazioni */\n-  .post :global(blockquote){\n-    color: var(--post-quote);\n-    font-style: italic;\n-    padding: .1em 1.1em;\n-    border-left: 3px solid var(--post-quote-bar);\n-    margin: 1.4em 0;\n-  }\n+\t/* Citazioni */\n+\t.post :global(blockquote) {\n+\t\tcolor: var(--post-quote);\n+\t\tfont-style: italic;\n+\t\tpadding: 0.1em 1.1em;\n+\t\tborder-left: 3px solid var(--post-quote-bar);\n+\t\tmargin: 1.4em 0;\n+\t}\n \n-  /* Codice */\n-  .post :global(code){\n-    font-family: var(--post-font-mono);\n-    font-size: 0.92em;\n-    background: var(--post-code-bg);\n-    padding: .15em .35em;\n-    border-radius: 4px;\n-  }\n-  .post :global(pre){\n-    background: var(--post-code-bg);\n-    padding: 1em;\n-    border-radius: 8px;\n-    overflow: auto;\n-  }\n-  .post :global(pre code){ background: transparent; padding: 0; }\n+\t/* Codice */\n+\t.post :global(code) {\n+\t\tfont-family: var(--post-font-mono);\n+\t\tfont-size: 0.92em;\n+\t\tbackground: var(--post-code-bg);\n+\t\tpadding: 0.15em 0.35em;\n+\t\tborder-radius: 4px;\n+\t}\n+\t.post :global(pre) {\n+\t\tbackground: var(--post-code-bg);\n+\t\tpadding: 1em;\n+\t\tborder-radius: 8px;\n+\t\toverflow: auto;\n+\t}\n+\t.post :global(pre code) {\n+\t\tbackground: transparent;\n+\t\tpadding: 0;\n+\t}\n \n-  /* Immagini / figure */\n-  .post :global(img){\n-    display: block;\n-    max-width: 100%;\n-    height: auto;\n-    margin: 1.2em auto;\n-    border-radius: 8px;\n-  }\n-  .post :global(figure){ text-align: center; }\n-  .post :global(figcaption){\n-    font-family: var(--post-font-sans);\n-    color: var(--post-figcap);\n-    font-size: .9rem;\n-    margin-top: .4em;\n-  }\n+\t/* Immagini / figure */\n+\t.post :global(img) {\n+\t\tdisplay: block;\n+\t\tmax-width: 100%;\n+\t\theight: auto;\n+\t\tmargin: 1.2em auto;\n+\t\tborder-radius: 8px;\n+\t}\n+\t.post :global(figure) {\n+\t\ttext-align: center;\n+\t}\n+\t.post :global(figcaption) {\n+\t\tfont-family: var(--post-font-sans);\n+\t\tcolor: var(--post-figcap);\n+\t\tfont-size: 0.9rem;\n+\t\tmargin-top: 0.4em;\n+\t}\n \n-  /* Tabelle */\n-  .post :global(table){\n-    width: 100%;\n-    border-collapse: collapse;\n-    font-variant-numeric: tabular-nums;\n-  }\n-  .post :global(th),\n-  .post :global(td){\n-    border-bottom: 1px solid var(--post-border);\n-    padding: .6em .4em;\n-    text-align: left;\n-    vertical-align: top;\n-  }\n-  .post :global(thead th){\n-    font-family: var(--post-font-sans);\n-    font-size: .9rem;\n-    color: var(--post-muted);\n-    font-weight: 600;\n-  }\n+\t/* Tabelle */\n+\t.post :global(table) {\n+\t\twidth: 100%;\n+\t\tborder-collapse: collapse;\n+\t\tfont-variant-numeric: tabular-nums;\n+\t}\n+\t.post :global(th),\n+\t.post :global(td) {\n+\t\tborder-bottom: 1px solid var(--post-border);\n+\t\tpadding: 0.6em 0.4em;\n+\t\ttext-align: left;\n+\t\tvertical-align: top;\n+\t}\n+\t.post :global(thead th) {\n+\t\tfont-family: var(--post-font-sans);\n+\t\tfont-size: 0.9rem;\n+\t\tcolor: var(--post-muted);\n+\t\tfont-weight: 600;\n+\t}\n \n-  /* HR */\n-  .post :global(hr){\n-    border: 0;\n-    height: 1px;\n-    background: var(--post-hr);\n-    margin: 2em 0;\n-  }\n+\t/* HR */\n+\t.post :global(hr) {\n+\t\tborder: 0;\n+\t\theight: 1px;\n+\t\tbackground: var(--post-hr);\n+\t\tmargin: 2em 0;\n+\t}\n \n-  /* Footnotes */\n-  .post :global(sup[id^=\"fnref\"] a),\n-  .post :global(a.footnote-ref){\n-    text-decoration: none;\n-    font-variant-position: super;\n-  }\n-  .post :global(section.footnotes){\n-    border-top: 1px solid var(--post-hr);\n-    margin-top: 2em;\n-    padding-top: 1em;\n-    font-size: .95em;\n-  }\n+\t/* Footnotes */\n+\t.post :global(sup[id^='fnref'] a),\n+\t.post :global(a.footnote-ref) {\n+\t\ttext-decoration: none;\n+\t\tfont-variant-position: super;\n+\t}\n+\t.post :global(section.footnotes) {\n+\t\tborder-top: 1px solid var(--post-hr);\n+\t\tmargin-top: 2em;\n+\t\tpadding-top: 1em;\n+\t\tfont-size: 0.95em;\n+\t}\n \n-  /* Migliora il salto su anchor (se hai una navbar fissa, aumenta il valore) */\n-    /* Svelte: niente liste dentro :global() */\n-    .post :global(h1[id]),\n-    .post :global(h2[id]),\n-    .post :global(h3[id]),\n-    .post :global(h4[id]) { scroll-margin-top: 96px; }\n+\t/* Migliora il salto su anchor (se hai una navbar fissa, aumenta il valore) */\n+\t/* Svelte: niente liste dentro :global() */\n+\t.post :global(h1[id]),\n+\t.post :global(h2[id]),\n+\t.post :global(h3[id]),\n+\t.post :global(h4[id]) {\n+\t\tscroll-margin-top: 96px;\n+\t}\n \n-    .post-layout.no-toc{\n-        grid-template-columns: minmax(0, 1fr);\n-        /* stringi il max-width per non lasciare spazio vuoto della sidebar */\n-        max-width: calc(var(--post-max-width) + 48px);\n-    }\n+\t.post-layout.no-toc {\n+\t\tgrid-template-columns: minmax(0, 1fr);\n+\t\tmax-width: calc(var(--post-max-width) + 48px);\n+\t}\n \n-\n-\n-\n-  /* Responsive: allarga un filo su desktop */\n-  @media (min-width: 1100px){\n-    :global(:root){ --post-max-width: 72ch; }\n-  }\n+\t/* Responsive: allarga un filo su desktop */\n+\t@media (min-width: 1100px) {\n+\t\t:global(:root) {\n+\t\t\t--post-max-width: 72ch;\n+\t\t}\n+\t}\n </style>\n"
                }
            ],
            "date": 1754738038715,
            "name": "Commit-0",
            "content": "<script>\n  export let metadata; // mdsvex passa il front-matter qui\n</script>\n\n<article class=\"prose prose-neutral max-w-3xl mx-auto py-10\">\n  <header class=\"mb-6\">\n    <h1 class=\"!mb-1\">{metadata.title}</h1>\n    {#if metadata.date}\n      <p class=\"text-sm opacity-70\">\n        {new Date(metadata.date).toLocaleDateString('it-IT', {\n          day: '2-digit', month: '2-digit', year: 'numeric'\n        })}\n      </p>\n    {/if}\n    {#if metadata.tags?.length}\n      <div class=\"mt-2 flex gap-2 flex-wrap\">\n        {#each metadata.tags as t}\n          <span class=\"text-xs px-2 py-1 bg-black/5 rounded-full\">{t}</span>\n        {/each}\n      </div>\n    {/if}\n  </header>\n\n  <slot /> <!-- qui entra il contenuto del .md -->\n</article>\n"
        }
    ]
}